'''
Created on Dec 12, 2015

@author: Prashanth
'''
import re
from bs4 import BeautifulSoup
import requests
from idlelib.IOBinding import encoding
from time import sleep
import datetime
import os
import calendar
import time
import logging
from _ast import Str

            

def _removeNonAscii(s): return "".join(i for i in s if ord(i)<128)


with open('sample.txt', mode='r',encoding="utf_8") as myfile:
    data=myfile.read()

    try:
            soup=BeautifulSoup(data,"html.parser")
            posts=soup.findAll('li',attrs={'class':"ri"})
            
            for post in posts:
                each_div=post.findAll("div")[0]
                title=each_div.findAll("a",attrs={'class':'i_title'})
                title_text=title[0].text.encode('utf_8')
                print(title_text)
                
    except Exception as e:
        print("Failed")
            
            
